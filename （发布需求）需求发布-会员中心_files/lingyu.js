var rencai_lingyu={selected_hid:"hidLingYu",selected_txtid:"txtLingYu",selected_btnid:"btnLingYu",defaultdata:null,init:function(b,c,a){rencai_lingyu.selected_hid=a;rencai_lingyu.selected_txtid=c;rencai_lingyu.selected_btnid=b;$.ajax({type:"get",url:"http://api.1633.com/rencai/lingyupool/getlingyupool/",dataType:"jsonp",jsonp:"jsoncallback",cache:false,success:function(d){if(d.code>0){rencai_lingyu.defaultdata=d.data}rencai_lingyu.bindclick();rencai_lingyu.bindui()}})},bindclick:function(){if(rencai_lingyu.selected_btnid!=""&&$("#"+rencai_lingyu.selected_btnid).length>0){$("#"+rencai_lingyu.selected_btnid).click(function(){rencai_lingyu.show()})}if($("#"+rencai_lingyu.selected_txtid).length>0){$("#"+rencai_lingyu.selected_txtid).click(function(){rencai_lingyu.show()})}},bindui:function(){var c=$("#"+rencai_lingyu.selected_hid).val();var a="";var b='<div class="d7_rcgwe" id="div_lingyu">';b+='<img src="http://image.1633.com/images/i/d7_ifjrca.png" alt="" />';b+='<i class="d7_rcgwi" title="关闭" onclick="rencai_lingyu.close()"></i>';b+='<div class="d7_rcgwec">';b+='<p class="d7_rcgwp1">请选择（可选择<b>5</b>项）选择后请点击确定<input class="btn_1" type="button" value="确定" onclick="rencai_lingyu.confirm()" /><input class="btn_3" type="button" value="清空" onclick="rencai_lingyu.clear()" /></p>';b+='<div class="d7_rcgwcm"><ul id="ul_lingyu">';if(rencai_lingyu.defaultdata!=null){for(i=0;i<rencai_lingyu.defaultdata.length;i++){if((","+c+",").indexOf(","+rencai_lingyu.defaultdata[i].id+",")>-1){a+=rencai_lingyu.defaultdata[i].name+",";b+='<li title="'+rencai_lingyu.defaultdata[i].name+'"><label><input type="checkbox" name="chk_lingyu" value="'+rencai_lingyu.defaultdata[i].id+'" checked="checked"><span>'+rencai_lingyu.defaultdata[i].name+"</span></label></li>"}else{b+='<li title="'+rencai_lingyu.defaultdata[i].name+'"><label><input type="checkbox" name="chk_lingyu" value="'+rencai_lingyu.defaultdata[i].id+'"><span>'+rencai_lingyu.defaultdata[i].name+"</span></label></li>"}}}b+='</ul></div></div><img src="http://image.1633.com/images/i/d7_ifjrcb.png" alt="" /></div>';if($("#div_lingyu").length<=0){$(b).appendTo("body")}else{$("#div_lingyu").replaceWith(b)}if(a!=""){$("#"+rencai_lingyu.selected_txtid).val(a)}},show:function(){$("#div_lingyu").show();$("#screen").show()},close:function(){$("#div_lingyu").hide();$("#screen").hide()},clear:function(){$("input[name='chk_lingyu']").attr("checked",false)},confirm:function(){var b=[];var a=[];if($('input[name="chk_lingyu"]:checked').length>5){alert("最多只能选择五个");return}$('input[name="chk_lingyu"]:checked').each(function(){b.push($(this).val());a.push($(this).siblings("span").html())});$("#"+rencai_lingyu.selected_hid).val(b);$("#"+rencai_lingyu.selected_txtid).val(a);rencai_lingyu.close()}};