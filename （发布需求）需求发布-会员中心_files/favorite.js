function favorite_list_all(c){var d=$("#username").val();var b=$("#key").val();var a=10;$("#all").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+d+"&pagesize="+a+"&pageindex="+c+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(f){$("#1").html(f.total);$("#allpage").html("");if(f.total>0){if(f.data!=null){var g=f.data;$.each(g,function(j){var h='<tr id="'+g[j].id+'">';h+='<td class="w1"><label><input type="checkbox" name="sub" value="'+g[j].id+'" />【'+g[j].channelname+'】</label><a href="'+g[j].url+'" target="_blank">';h+=g[j].title+'</a></td> <td class="c1">收藏于'+g[j].addtime+"</td>";h+='<td class="w3"><a onclick="favorite_list_cancel('+g[j].id+')" target="_blank">取消收藏</a></td>';h+="<td>&nbsp;</td> </tr>";$("#all").append(h)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=f.total;var e=PagingObject.getPagingHtml("favorite_list_all");$("#allpage").html(e);$("#allpage").append('<i class="c666">共'+f.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}}})}function favorite_list_tec(d){var c=0;var e=$("#username").val();var b=$("#key").val();var a=10;$("#tec").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+e+"&pagesize="+a+"&channel=tec&pageindex="+d+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(g){$("#2").html(g.total);if(g.total>0){if(g.data!=null){var h=g.data;$.each(h,function(k){var j='<tr id="'+h[k].id+'">';j+='<td class="w1"><label><input type="checkbox" name="'+h[k].channel+'" value="'+h[k].id+'" />【'+h[k].channelname+'】</label><a href="'+h[k].url+'" target="_blank">';j+=h[k].title+'</a></td> <td class="c1">收藏于'+h[k].addtime+"</td>";j+='<td class="w3"><a onclick="favorite_list_cancel('+h[k].id+')" target="_blank">取消收藏</a></td>';j+="<td>&nbsp;</td> </tr>";$("#tec").append(j)})}PagingObject.pageIndex=d;PagingObject.pageSize=a;PagingObject.total=g.total;var f=PagingObject.getPagingHtml("favorite_list_tec");$("#2").html(g.total);$("#tecpage").html(f);$("#tecpage").append('<i class="c666">共'+g.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#tec").html("");$("#2").html(g.total);$("#tecpage").html("")}}})}function favorite_list_jishuchuangye(c){var d=$("#username").val();var b=$("#key").val();var a=10;$("#jishuchuangye").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+d+"&pagesize="+a+"&channel=jishuchuangye&pageindex="+c+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(f){$("#7").html(f.total);if(f.total>0){if(f.data!=null){var g=f.data;$.each(g,function(j){var h='<tr id="'+g[j].id+'">';h+='<td class="w1"><label><input type="checkbox" name="'+g[j].channel+'" value="'+g[j].id+'" />【'+g[j].channelname+'】</label><a href="'+g[j].url+'" target="_blank">';h+=g[j].title+'</a></td> <td class="c1">收藏于'+g[j].addtime+"</td>";h+='<td class="w3"><a onclick="favorite_list_cancel('+g[j].id+')" target="_blank">取消收藏</a></td>';h+="<td>&nbsp;</td> </tr>";$("#jishuchuangye").append(h)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=f.total;var e=PagingObject.getPagingHtml("favorite_list_jishuchuangye");$("#7").html(f.total);$("#jishuchuangyepage").html(e);$("#jishuchuangyepage").append('<i class="c666">共'+f.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#jishuchuangye").html("");$("#7").html(f.total);$("#jishuchuangyepage").html("")}}})}function favorite_list_jishurongzi(c){var d=$("#username").val();var b=$("#key").val();var a=10;$("#jishurongzi").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+d+"&pagesize="+a+"&channel=jishurongzi&pageindex="+c+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(f){$("#8").html(f.total);if(f.total>0){if(f.data!=null){var g=f.data;$.each(g,function(j){var h='<tr id="'+g[j].id+'">';h+='<td class="w1"><label><input type="checkbox" name="'+g[j].channel+'" value="'+g[j].id+'" />【'+g[j].channelname+'】</label><a href="'+g[j].url+'" target="_blank">';h+=g[j].title+'</a></td> <td class="c1">收藏于'+g[j].addtime+"</td>";h+='<td class="w3"><a onclick="favorite_list_cancel('+g[j].id+')" target="_blank">取消收藏</a></td>';h+="<td>&nbsp;</td> </tr>";$("#jishurongzi").append(h)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=f.total;var e=PagingObject.getPagingHtml("favorite_list_jishurongzi");$("#8").html(f.total);$("#jishurongzipage").html(e);$("#jishurongzipage").append('<i class="c666">共'+f.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#jishurongzi").html("");$("#8").html(f.total);$("#jishurongzipage").html("")}}})}function favorite_list_dev(c){var d=$("#username").val();var b=$("#key").val();var a=10;$("#dev").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+d+"&pagesize="+a+"&channel=dev&pageindex="+c+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(f){$("#3").html(f.total);if(f.total>0){if(f.data!=null){var g=f.data;$.each(g,function(j){var h='<tr id="'+g[j].id+'">';h+='<td class="w1"><label><input type="checkbox" name="'+g[j].channel+'" value="'+g[j].id+'" />【'+g[j].channelname+'】</label><a href="'+g[j].url+'" target="_blank">';h+=g[j].title+'</a></td> <td class="c1">收藏于'+g[j].addtime+"</td>";h+='<td class="w3"><a onclick="favorite_list_cancel('+g[j].id+')" target="_blank">取消收藏</a></td>';h+="<td>&nbsp;</td> </tr>";$("#dev").append(h)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=f.total;var e=PagingObject.getPagingHtml("favorite_list_dev");$("#3").html(f.total);$("#devpage").html(e);$("#devpage").append('<i class="c666">共'+f.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#dev").html("");$("#3").html(f.total);$("#devpage").html("")}}})}function favorite_list_service(c){var d=$("#username").val();var b=$("#key").val();var a=10;$("#service").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+d+"&pagesize="+a+"&channel=service&pageindex="+c+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(f){$("#4").html(f.total);if(f.total>0){if(f.data!=null){var g=f.data;$.each(g,function(j){var h='<tr id="'+g[j].id+'">';h+='<td class="w1"><label><input type="checkbox" name="'+g[j].channel+'" value="'+g[j].id+'" />【'+g[j].channelname+'】</label><a href="'+g[j].url+'" target="_blank">';h+=g[j].title+'</a></td> <td class="c1">收藏于'+g[j].addtime+"</td>";h+='<td class="w3"><a onclick="favorite_list_cancel('+g[j].id+')" target="_blank">取消收藏</a></td>';h+="<td>&nbsp;</td> </tr>";$("#service").append(h)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=f.total;var e=PagingObject.getPagingHtml("favorite_list_service");$("#4").html(f.total);$("#servicepage").html(e);$("#servicepage").append('<i class="c666">共'+f.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#service").html("");$("#servicepage").html("")}}})}function favorite_list_invest(c){var d=$("#username").val();var b=$("#key").val();var a=10;$("#invest").html("");$.ajax({type:"get",url:"http://api.1633.com/shoucang/GetMyShouCangWithPage?username="+d+"&pagesize="+a+"&channel=invest&pageindex="+c+"&title="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(f){if(f.total>0){if(f.data!=null){var g=f.data;$.each(g,function(j){var h='<tr id="'+g[j].id+'">';h+='<td class="w1"><label><input type="checkbox" name="'+g[j].channel+'" value="'+g[j].id+'" />【'+g[j].channelname+'】</label><a href="'+g[j].url+'" target="_blank">';h+=g[j].title+'</a></td> <td class="c1">收藏于'+g[j].addtime+"</td>";h+='<td class="w3"><a onclick="favorite_list_cancel('+g[j].id+')" target="_blank">取消收藏</a></td>';h+="<td>&nbsp;</td> </tr>";$("#invest").append(h)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=f.total;var e=PagingObject.getPagingHtml("favorite_list_invest");$("#5").html(f.total);$("#investpage").html(e);$("#investpage").append('<i class="c666">共'+f.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#invest").html("");$("#5").html(f.total);$("#investpage").html("")}}})}function favorite_list_art(c){var b=$("#key").val();var a=10;$("#art").html("");$.ajax({type:"post",url:"/server/favorite/loadpage",data:"key="+b+"&page="+c,dataType:"json",cache:false,success:function(e){if(e.msg=="查询成功"){if(e.data!=null){var f=e.data;$.each(f,function(h){var g='<tr id="'+f[h].topicId+'">';g+='<td class="w1"><label><input type="checkbox" name="art" value="'+f[h].topicId+'" />【文章】</label><a href="http://www.1633.com/space/view/'+f[h].topicId+'.shtml" target="_blank">';g+=f[h].title+'</a></td> <td class="c1">收藏于'+f[h].createtime+"</td>";g+='<td class="w3"><a onclick="favorite_art_cancel('+f[h].topicId+')" target="_blank">取消收藏</a></td>';g+="<td>&nbsp;</td> </tr>";$("#art").append(g)})}PagingObject.pageIndex=c;PagingObject.pageSize=a;PagingObject.total=e.total;var d=PagingObject.getPagingHtml("favorite_list_art");$("#6").html(e.total);$("#artpage").html(d);$("#artpage").append('<i class="c666">共'+e.total+"条信息&nbsp;&nbsp;每页"+a+"条</i>")}else{$("#art").html("");$("#6").html(e.total);$("#artpage").html("")}}})}function favorite_list_search(){favorite_list_all(1);favorite_list_tec(1);favorite_list_jishuchuangye(1);favorite_list_jishurongzi(1);favorite_list_dev(1);favorite_list_service(1);favorite_list_invest(1);favorite_list_art(1)}function favorite_list_cancel(a){if(confirm("确定取消收藏？")){var c=$("#username").val();var b=a;$.ajax({type:"get",url:"http://api.1633.com/shoucang/cancelshoucang?username="+c+"&ids="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(d){if(d.code>0){document.getElementById(b).style.display="none";favorite_list_search()}}})}}function favorite_art_cancel(a){if(confirm("确定取消收藏？")){var b=a;$.ajax({type:"post",url:"/server/favorite/canclepage",data:"articleid="+b,dataType:"json",cache:false,success:function(c){if(c.total>0){document.getElementById(b).style.display="none";favorite_list_search()}}})}}function favorite_list_cancelall(a){var b="";if(a=="art"){$('input[name="art"]:checked').each(function(){b+=($(this).val()+",")});if(b.length>0){if(confirm("确定取消收藏？")){b=b.substring(0,b.length-1);$("input[name='cancelart']").prop("checked")==false;$.ajax({type:"post",url:"/server/favorite/canclepages",data:"articleIds="+b,dataType:"json",cache:false,success:function(d){if(d.total>0){favorite_list_search()}}})}}else{alert("请先勾选要取消收藏的数据！")}}else{if(a=="sub"){$('input[name="sub"]:checked').each(function(){b+=($(this).val()+",")})}else{if(a=="tec"){$('input[name="tec"]:checked').each(function(){b+=($(this).val()+",")})}else{if(a==="jishuchuangye"){$('input[name="jishuchuangye"]:checked').each(function(){b+=($(this).val()+",")})}else{if(a==="jishurongzi"){$('input[name="jishurongzi"]:checked').each(function(){b+=($(this).val()+",")})}else{if(a=="dev"){$('input[name="dev"]:checked').each(function(){b+=($(this).val()+",")})}else{if(a=="service"){$('input[name="service"]:checked').each(function(){b+=($(this).val()+",")})}else{if(a=="invest"){$('input[name="invest"]:checked').each(function(){b+=($(this).val()+",")})}}}}}}}if(b.length>0){if(confirm("确定取消收藏？")){b=b.substring(0,b.length-1);$("input[name='cancel"+a+"']").prop("checked")==false;var c=$("#username").val();$.ajax({type:"get",url:"http://api.1633.com/shoucang/cancelshoucang?username="+c+"&ids="+b,data:"id=1",cache:false,dataType:"jsonp",success:function(d){if(d.code>0){favorite_list_search()}}})}}else{alert("请先勾选要取消收藏的数据！")}}};